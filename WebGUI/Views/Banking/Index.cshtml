@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<div id="studentForm">
    <form>
      <input type="text" id="SId" name="SId" placeholder="Student ID" />
      <input type="text" id="SName" name="SName" placeholder="Student Name" />
      <input type="text" id="SUni" name="SUni" placeholder="Student University" />
    </form>
    <button id="search" onclick="search()">Search</button>
    <button id="insert" onclick="insert()">Insert</button>
</div>
<script>
    function search()
    {
        $.ajax({
            url: '/banking/search/'+ $('#SId').val(),
            type: 'get',
            contentType: 'application/json',
            processData: false,
            success: function (data, textStatus, jQxhr) 
            {
                var obj = JSON.parse(data);
                $("#SName").val(obj.accNo);
                $("#SUni").val(obj.firstName);
            },
            error: function (jqXhr, textStatus, errorThrown) 
            {
                console.log(errorThrown);
            } 
        });
    }

    function insert() 
    { 
        $.ajax({
            type: 'POST',
            url: '/banking/insert/',
            contentType: 'application/json',
            data: JSON.stringify(
            {
                "accNo": $('#SId').val(),
                "firstName": $("#SName").val(),
                "lastName": $("#SUni").val(),
                "pin": 13,
                "balance": 451384,
                "pictureData": ""

            }),
            success: function(data, textStatus, jQxhr)
            {
                alert("Data Inserted");
            },
            error: function(xhr, textStatus, error)
            {
                alert("Error");
                console.log(xhr.statusText);
                console.log(textStatus);
                console.log(error);
            }
        });
    }

</script>